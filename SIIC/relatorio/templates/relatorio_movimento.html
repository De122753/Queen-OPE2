<!DOCTYPE html>

{% extends 'paginas/modelo.html' %}

{% block conteudo %}

<script>
    function mostrarResultado(){
        document.getElementById('resultado').style.display = '';
        document.getElementById('imprimirPdf').style.display = '';
    }
    
</script>

<div class="container">
    <p>   
    </p>
    <h2 align="center">RELATÓRIO FINANCEIRO DE PRODUTOS</h2>
    <br><br>
 
<!--Inicio campo data e botão pesquisar-->
    <div class='col-sm-12'  style="padding: 10px;">
        <form method="POST">
            <div>
                {% csrf_token %}
                <label style="margin-left: 10px" for="dataInicio">Data Inicial:</label>
                    <input type="date" id="dataInicio" name="dataInicio" required value=""
                    pattern="[0-9]{4}-[0-9]{2}-[0-9]{2}" style="padding: 3px; border-style:solid;">
                <label style="margin-left: 10px" for="dataFim">Data Final:</label>
                    <input type="date" id="dataFim" name="dataFim" required value=""
                    pattern="[0-9]{4}-[0-9]{2}-[0-9]{2}" style="padding: 3px; border-style:solid;">
                <input type="submit" class="btn btn-primary" value="Pesquisar" 
                    id="consultar" onclick="resultado">
                <input  type="submit" class="btn btn-primary" value="Imprimir PDF" 
                    id="imprimirPdf" onclick="" style="margin-left: 250px;">
            </div>

            
        </form>
    </div>
    <br><br><br><br>
<!--Fim campo data e botão pesquisar-->

<!--Inicio da Tabela do Relatório -->

    <div class="conteiner" id="resultado" margin:auto">
        <div style="background-color: white;">
            <div align="center">
                <p><h4>PERÍODO CONSULTADO</h4></p>
                <p><h4>De "{{dataInicio}}" até "{{dataFim}}"</h4></p>
            </div>
            
        </br>
            <h3 align="center" style="background-color: rgba(14, 197, 91, 0.644); color: white; ">Resumo Financeiro das Movimentações dos Produtos</h3>
        </br>    
            <table class="table" style="border-color: black; padding-top: 40px;" id='resumo'>
                <thead>
                    <tr>
                        <th scope="col" style="color: rgb(206, 116, 7); border: black;"><h4>TIPO DE MOVIMENTO</h4></th>
                        <th scope="col" style="color: blue; border: black;" ><h4>QTD DE PRODUTOS</h4></th>
                        <th scope="col" style="color: rgb(255, 17, 0); border: black;" ><h4>TOTAL FINANCEIRO</h4></th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <th scope="row" style="font-size:20px;">ENTRADA</th>
                        <th scope="row" style="font-size:20px;">{{qtd_entrada}}</th>
                        <th scope="row" style="font-size:20px;">R$ {{total_entrada}}</th>
                    </tr>
                    <tr>
                        <th scope="row" style="font-size:20px;">SAÍDA</th>
                        <th scope="row" style="font-size:20px;">{{qtd_saida}}</th>
                        <th scope="row" style="font-size:20px;">R$ {{ total_saida}}</th>
                    </tr>
                </tbody>
            </table>
            <p>
            </p>
            </br>
            
            <div class='col-sm-6' style="left: 70%;">RESULTADO FINANCEIRO DO PERÍODO: 
                
                    <h2  style="color: rgba(255, 94, 0, 0.87); border: black;">R$ {{campos_resumo}}</h2>
                
            </div>
        </br>
        </br>
        </div>
        <table class="table table-striped" id="analitico">
            <h3 align="center" style="background-color: rgb(9, 180, 100); color: white; ">Movimentações dos Produtos</h3>
            <thead>
                <tr>
                    <th scope="col" style="background-color: rgba(9, 180, 100, 0.726); color: white;">DATA MOVIMENTO</th>
                    <th scope="col" style="background-color: rgba(9, 180, 100, 0.726); color: white;">NOME PRODUTO</th>
                    <th scope="col" style="background-color: rgba(9, 180, 100, 0.726); color: white;">QTD PRODUTO</th>
                    <th scope="col" style="background-color: rgba(9, 180, 100, 0.726); color: white;">TIPO MOVIMENTO</th>
                    <th scope="col" style="background-color: rgba(9, 180, 100, 0.726); color: white;">TOTAL PRODUTO (R$)</th>
                </tr>
            </thead>
            <tbody >
                {% for campo1 in campos_produtos %}
                <tr>
                    <th scope="row">{{campo1.CREATED}}</th>
                    <th scope="row">{{campo1.NOME_PRODUTO}}</th>               
                    <th scope="row">{{campo1.QUANTIDADE}}</th>
                    <th scope="row">{{campo1.MOVIMENTO}}</th>
                    <th scope="row">R$ {{campo1.TOTAL}}</th>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        <br>
            <br>
                <br>
            <br>
        <br>
    </div>   
</div>

{% endblock conteudo %}